---
name: kaoyan-math
description: This skill should be used when the user asks to generate/modify study notes for 考研数学 (Chinese graduate entrance math exam), specifically when the user provides existing notes and wants to create exam-oriented learning notes, or when the user provides feedback to update existing study notes.
version: 2.0.0
---

# 考研数学学习笔记生成技能 (Kaoyan Mathematics Note Generation Skill)

This skill is designed for **iterative generation of exam-oriented study notes** for 考研数学 (Chinese Postgraduate Mathematics Exam). It transforms user's existing notes into structured, exam-focused learning materials and continuously updates them based on user feedback.

---

## 用户工作流

```
1. 用户提供现成数学笔记 + 模块信息
   ↓
2. AI 基于现成笔记生成考研导向学习笔记
   ↓
3. 用户学习笔记 + 听课
   ↓
4. 用户反馈理解问题/听课不理解的地方
   ↓
5. AI 分析反馈 + 更新笔记
   ↓
6. 循环步骤3-5
```

---

## 适用场景

### 触发条件

**触发此技能当**：
- 用户提供笔记 + "生成考研学习笔记"
- 用户提供笔记 + "帮我整理成考研笔记"
- 用户说"我对XX不理解" + 之前有生成的笔记文件
- 用户说"听课时不理解XX" + 之前有生成的笔记文件
- 用户要求更新/完善已有的考研学习笔记
- 明确提到"考研数学笔记"或"生成笔记"且涉及高数/线代/概率

### 不触发条件

**不触发此技能当**：
- 普通数学概念问答（如"什么是导数？"）
- 一般数学题目解答
- 没有明确"考研"上下文的数学学习
- 没有笔记生成意图的纯知识点讲解

---

## 核心功能设计

### 功能1：基于现成笔记生成考研学习笔记

**输入**：
- 用户现成的数学笔记（文本或文件）
- 目标模块信息（高数/线代/概率 + 具体章节）
- 目标考试类型（数一/数二/数三）

**处理**：
1. 解析现成笔记，提取知识点
2. 补充考研导向内容：
   - 考试重点标注
   - 常考题型
   - 易错点
   - 解题技巧
   - 典型例题
3. 生成结构化学习笔记

**输出**：
- 保存为 Markdown/Obsidian 笔记文件
- 提供笔记预览

### 功能2：根据反馈更新笔记

**输入**：
- 已有笔记文件路径
- 用户反馈：
  - 理解困难的地方
  - 听课时不理解的地方
  - 希望补充的内容

**处理**：
1. **分析理解障碍**
   - 为什么不理解？（概念抽象/逻辑跳跃/缺乏直观解释）
   - 在笔记中定位对应知识点
2. **优化表达方式**
   - 增加直观解释/类比
   - 分步骤详细讲解
   - 调整叙述顺序
3. **添加辅助内容**
   - 更多例题
   - 图示说明（用文字描述或调用excalidraw-diagram技能）
   - 对比分析
4. **标注易错点**
   - 记录用户思维误区
   - 在易错点部分补充说明
5. **记录思维过程**
   - 在"我的理解记录"中记录用户的原始理解
   - 在"我的错误类型"中标注个性化错误模式
   - 建立用户错误档案，用于后续个性化建议

**输出**：
- 更新笔记文件
- 标注修改位置和内容

---

## 工作流设计

### 阶段1：笔记生成

```
【输入】现成笔记 + 模块信息

【步骤1】解析笔记内容
- 识别知识点结构
- 提取定义、定理、公式
- 识别例题和练习

【步骤2】补充考研导向内容
- 标注考试重点（根据数一/数二/数三）
- 增加常考题型总结
- 补充易错点
- 添加解题技巧
- 提供典型真题示例

【步骤3】生成结构化笔记
使用标准格式：
# [模块名]

## 知识点1

### 定义
[原始笔记中的定义]

### 考试重点 ⭐
[标注是否为高频考点]

### 典型题型
[常考题目类型]

### 解题方法
[解题技巧和步骤]

### 易错点 ⚠️
[常见错误]

### 例题
[例题 + 解析]

【输出】保存为文件
```

### 阶段2：笔记更新

```
【输入】笔记文件路径 + 用户反馈

【步骤1】定位问题点
- 扫描笔记，找到反馈对应的知识点
- 记录当前位置

【步骤2】分析反馈类型
- 概念抽象 → 增加直观解释/类比 + 记录到"我的理解记录"
- 逻辑跳跃 → 增加中间步骤 + 记录到"我的错误类型-推导跳步"
- 条件遗漏 → 补充条件说明 + 记录到"我的错误类型-条件遗漏"
- 方法误选 → 添加方法对比 + 记录到"我的错误类型-方法误选"

【步骤3】更新笔记
- 在对应位置插入补充内容
- 添加"补充说明"标记
- 记录修改历史

【步骤4】记录思维过程
- 在"我的理解记录"中记录用户的原始理解
- 在"我的错误类型"中标注个性化错误模式
- 建立用户错误档案，用于后续个性化建议

【步骤5】验证
- 检查笔记结构完整性
- 确认修改位置正确
- 验证思维过程记录的准确性

【输出】更新文件
```

---

## 笔记格式标准

### 知识点模板

```markdown
## [知识点名称]

### 原始定义
[来自用户现成笔记]

### 直观理解 💡
[新增：直观解释、类比、几何意义]

### 考试重点 ⭐
[新增：考试频率、题型分布]

### 定理条件 ⚠️
[新增：充要条件、适用范围]

### 典型题型
[新增：常考题目类型]

### 解题方法
[新增：解题步骤、技巧]

### 易错点 ⚠️
[新增：常见错误、思维误区]

### 我的理解记录 🧠
[个性化学习轨迹]

#### 初始理解
- 我一开始以为……
- 我之前的理解是……

#### 误区记录
- 我误以为……
- ❌ 为什么会这样想：（条件/经验/直觉）
- ✅ 正确的理解应该是……

#### 学习进展
- 听课后我发现……
- 做题时我注意到……

#### 未解疑问
- 我仍然不清楚的是……
- 希望进一步了解……

### 我的错误类型 📌
[个性化错误模式]

#### 条件遗漏 ⚠️
- [ ] 经常忘记……条件
- [ ] 例子：……

#### 方法误选 ⚠️
- [ ] 总是想用……方法，但实际应该用……
- [ ] 原因分析：

#### 推导跳步 ⚠️
- [ ] 经常跳过……步骤
- [ ] 导致……

#### 计算失误 ⚠️
- [x] 经常算错……
- [ ] 提醒：……

#### 其他个性化问题
- [ ] ……

### 例题
#### 例1
**题目**：...
**分析**：...
**解答**：...
**评注**：...

### 补充说明 📝
[根据用户反馈动态添加的内容]
```

### 更新标记

```markdown
<!-- UPDATE: 2025-XX-XX 用户反馈不理解XX -->
[补充内容]
<!-- END UPDATE -->
```

---

## 关键组件

### 1. 知识点定位器
- 根据用户反馈找到对应知识点
- 模糊匹配（用户说的"那个函数"→识别为具体函数）

### 2. 理解障碍分析器
- 分析反馈内容
- 分类：概念抽象/逻辑跳跃/缺乏例题/条件不清
- 生成补充策略

### 3. 表达优化器
- 生成直观解释
- 增加类比
- 分步骤讲解

### 4. 例题生成器
- 根据知识点选择典型例题
- 生成详细解答
- 添加评注

---

## 笔记文件组织（按知识点分文件）

### 目录结构

```
考研数学笔记/
├── 📑 索引.md              # MOC (Map of Content)，链接所有知识点
├── 📊 学习进度.md          # Dashboard 显示所有知识点状态
│
├── 高数-极限/
│   ├── 极限定义.md
│   ├── 等价无穷小.md
│   ├── 洛必达法则.md
│   └── 泰勒公式.md
│
├── 高数-导数/
│   ├── 导数定义.md
│   ├── 中值定理.md
│   ├── 极值问题.md
│   └── 凹凸性.md
│
├── 高数-积分/
│   ├── 不定积分.md
│   ├── 定积分.md
│   └── 积分应用.md
│
├── 高数-多元函数/
│   ├── 偏导数.md
│   ├── 全微分.md
│   └── 重积分.md
│
├── 高数-微分方程/
│   ├── 一阶方程.md
│   └── 二阶常系数方程.md
│
├── 高数-级数/
│   ├── 数项级数.md
│   └── 幂级数.md
│
├── 线代/
│   ├── 矩阵运算.md
│   ├── 行列式.md
│   ├── 线性方程组.md
│   ├── 特征值.md
│   └── 二次型.md
│
└── 概率/
    ├── 随机变量.md
    ├── 常用分布.md
    └── 数字特征.md
```

### 单个知识点笔记格式

```markdown
---
知识点: 洛必达法则
模块: 高数-极限
考试类型: 数一/数二/数三
考试频率: ⭐⭐⭐⭐⭐
学习状态: 待学习
tags: [高数, 极限, 重要]
---

# 洛必达法则

## 原始定义
[来自用户用户现成笔记的定义内容]

## 直观理解 💡
[直观解释、类比、几何意义]

## 定理条件 ⚠️
[充要条件、适用范围]

## 考试重点 ⭐
[考试频率、题型分布]

## 典型题型
[常考题目类型]

## 解题方法
[解题步骤、技巧]

## 易错点 ⚠️
[常见错误、思维误区]

## 我的理解记录 🧠

### 初始理解
- 我一开始以为洛必达法则就是直接求导...
- 我之前的理解是只要看到分式就可以用洛必达...

### 误区记录
- 我误以为g'(x)=0的情况不存在...
- ❌ 为什么会这样想：因为题目通常不会设计这种陷阱
- ✅ 正确的理解应该是：g'(x)=0是重要的边界条件，需要特殊处理

### 学习进展
- 听课后我发现必须先验证0/0或∞/∞型...
- 做题时我注意到等价无穷小可以简化计算...

### 未解疑问
- 我仍然不清楚的是洛必达法则的几何证明...
- 希望进一步了解如何判断何时停止使用洛必达...

## 我的错误类型 📌

### 条件遗漏 ⚠️
- [x] 经常忘记验证0/0或∞/∞型条件
- [ ] 例子：直接对(1-cosx)/x使用洛必达

### 方法误选 ⚠️
- [ ] 总是想用洛必达方法，但实际应该用泰勒公式
- [ ] 原因分析：没有意识到泰勒公式更简洁

### 推导跳步 ⚠️
- [ ] 经常跳过验证g'(x)≠0的步骤
- [ ] 导致忽略特殊情况

### 计算失误 ⚠️
- [ ] 经常算错导数
- [ ] 提醒：注意链式法则的应用

### 其他个性化问题
- [ ] 容易混淆一阶导和二阶导的计算...

## 例题
> [!example] 例1
> **题目**：...
> **分析**：...
> **解答**：...
> **评注**：...

## 相关知识点
- [[等价无穷小]]
- [[泰勒公式]]

## 补充说明 📝
<!-- UPDATE: 2025-XX-XX 用户反馈不理解XX -->
[根据用户反馈动态添加的内容]
<!-- END UPDATE -->
```

---

## 考研数学三大模块（知识点参考）

### 高等数学 (微积分)
```
高等数学核心知识点:
├── 极限与连续
│   ├── 极限计算 (洛必达法则、泰勒公式、等价无穷小)
│   ├── 函数连续性与间断点
│   └── 数列极限与级数初步
│
├── 一元函数微分学
│   ├── 导数定义与计算
│   ├── 导数应用 (单调性、极值、凹凸性、渐近线)
│   ├── 微分中值定理 (罗尔、拉格朗日、柯西)
│   └── 洛必达法则应用
│
├── 一元函数积分学
│   ├── 不定积分 (换元法、分部积分法)
│   ├── 定积分 (牛顿-莱布尼茨公式)
│   ├── 反常积分 (无穷区间、无界函数)
│   └── 定积分应用 (面积、体积、弧长、旋转体)
│
├── 多元函数微积分
│   ├── 多元函数极限与连续
│   ├── 偏导数与全微分
│   ├── 多元函数极值与最值
│   ├── 重积分 (二重、三重)
│   ├── 曲线积分与曲面积分
│   └── 格林公式、高斯公式、斯托克斯公式
│
├── 微分方程
│   ├── 一阶微分方程 (可分离变量、齐次、线性)
│   ├── 可降阶的高阶方程
│   └── 二阶常系数线性微分方程
│
└── 无穷级数
    ├── 数项级数 (正项级数、交错级数)
    ├── 幂级数 (收敛域、展开式)
    └── 傅里叶级数
```

### 线性代数
```
线性代数核心知识点:
├── 行列式
│   ├── 行列式定义与性质
│   ├── 行列式计算 (展开、三角化)
│   └── 克莱姆法则
│
├── 矩阵
│   ├── 矩阵运算 (加、减、乘、转置)
│   ├── 逆矩阵与伴随矩阵
│   ├── 矩阵的秩与等价标准形
│   └── 分块矩阵
│
├── 向量
│   ├── 向量运算与线性组合
│   ├── 线性相关与线性无关
│   ├── 极大线性无关组与秩
│   └── 向量空间与基
│
├── 线性方程组
│   ├── 克莱姆法则
│   ├── 矩阵法求解 (初等行变换)
│   └── 解的结构 (基础解系、通解)
│
├── 特征值与特征向量
│   ├── 特征值特征向量的定义与计算
│   ├── 特征值的性质 (迹、行列式)
│   └── 矩阵对角化
│
└── 二次型
    ├── 二次型的矩阵表示
    ├── 化为标准形 (配方法、正交变换)
    └── 正定二次型判定
```

### 概率论与数理统计
```
概率论与数理统计核心知识点:
├── 概率基础
│   ├── 样本空间与事件
│   ├── 古典概型与几何概型
│   ├── 条件概率与独立性
│   └── 全概率公式与贝叶斯公式
│
├── 随机变量
│   ├── 离散型随机变量 (分布律)
│   ├── 连续型随机变量 (密度函数)
│   ├── 分布函数
│   └── 随机变量函数的分布
│
├── 常用分布
│   ├── 离散型: 0-1分布、二项分布、泊松分布、几何分布
│   └── 连续型: 均匀分布、指数分布、正态分布
│
├── 多维随机变量
│   ├── 联合分布
│   ├── 边缘分布与条件分布
│   ├── 随机变量的独立性
│   └── 随机变量函数的分布 (和、差、积、商、最大最小)
│
├── 数字特征
│   ├── 数学期望
│   ├── 方差与标准差
│   ├── 协方差与相关系数
│   └── 矩
│
├── 大数定律与中心极限定理
│   ├── 切比雪夫不等式
│   ├── 大数定律 (辛钦、伯努利)
│   └── 中心极限定理 (棣莫弗-拉普拉斯、列维-林德伯格)
│
└── 数理统计
    ├── 统计量 (样本均值、样本方差)
    ├── 三大抽样分布 (χ²分布、t分布、F分布)
    ├── 点估计 (矩估计、最大似然估计)
    └── 区间估计
```

---

## 输出格式

### 文件输出
- 使用 obsidian-markdown 技能生成 Obsidian 笔记
- 格式：Obsidian Flavored Markdown (wikilinks, callouts, properties)
- 按知识点分文件

### 会话输出
- 生成预览
- 标注修改位置
- 提供文件路径

---

## 实例演示

### 演示1：初始笔记生成

**用户输入**：
```
这是我的极限笔记：
函数f(x)在x₀处的极限是A，当x趋近于x₀时，f(x)无限接近A。
洛必达法则：lim f(x)/g(x) = lim f'(x)/g'(x)，当f(x)和g(x)都趋向0或无穷大时。

帮我生成考研数一的极限学习笔记。
```

**AI 处理**：
1. 解析笔记内容，识别"极限定义"和"洛必达法则"两个知识点
2. 按知识点点分文件生成笔记
3. 补充考研导向内容

**生成文件**：
```
考研数学笔记/
├── 📑 索引.md
├── 📊 学习进度.md
└── 高数-极限/
    ├── 极限定义.md
    └── 洛必达法则.md
```

**AI 输出**：
```
已生成考研数一极限学习笔记，共2个知识点文件：

📁 文件位置：考研数学笔记/高数-极限/
  1. 极限定义.md
  2. 洛必达法则.md

预览：
# 洛必达法则

## 原始定义
洛必达法则：lim f(x)/g(x) = lim f'(x)/g'(x)，当f(x)和g(x)都趋向0或无穷大时。

## 直观理解 💡
洛必达法则的本质是比较两个函数"变化速度"的快慢。当两个函数都趋向0或∞时，通过比较它们的导数（变化率）来确定原函数的比值趋向。

**类比**：就像赛跑，如果两个选手都同时冲过终点线（都趋向0），通过比较他们的加速度（导数）来判断谁更快。

## 定理条件 ⚠️
⚠️ 使用洛必达法则必须满足以下条件：
1. lim f(x) = lim g(x) = 0 或 ∞（必须是0/0或∞/∞型）
2. f(x)和g(x)在某去心邻域内可导，且g'(x)≠0
3. lim f'(x)/g'(x) 存在或为∞

⚠️ 常见错误：忽略条件1，直接对非0/0型使用

## 考试重点 ⭐
⭐⭐⭐⭐⭐ 高频考点，几乎每年必考

**常考题型**：
1. 直接使用洛必达法则求极限
2. 需要多次应用洛必达法则
3. 结合泰勒公式的极限计算
4. 识别陷阱题（不满足洛必达条件）

## 典型题型
1. 基本应用：0/0或∞/∞型极限
2. 连续应用：需要多次求导
3. 结合其他方法：等价无穷小+洛必达
4. 识别不适用：导数极限不存在的情况

## 解题方法
**步骤**：
1. 识别极限类型（0/0、∞/∞等）
2. 验证洛必达法则条件
3. 对分子分母分别求导
4. 判断是否继续应用
5. 求出最终极限

**技巧**：
- 优先考虑等价无穷小简化
- 注意结合泰勒公式处理复杂函数
- 使用洛必达前先检查是否可化简

## 易错点 ⚠️
⚠️ 易错点1：对非0/0、∞/∞型使用洛必达
   - 错误：lim(x→∞) (x+1)/x 使用洛必达
   - 正确：直接计算 = 1

⚠️ 易错点2：导数极限不存在就认为原极限不存在
   - 错误：lim f/g 的导数极限不存在就放弃
   - 正确：导数极限不存在时，洛必达失效，需要其他方法

⚠️ 易错点3：忘记验证g'(x)≠0

## 例题

> [!example] 例1：基本应用
> **题目**：求 lim(x→0) (eˣ - 1 - x) / x²
>
> **分析**：x→0时，eˣ-1-x→0，x²→0，是0/0型，满足洛必达条件
>
> **解答**：
> 原式 = lim(x→0) [eˣ - 1] / (2x)  (第一次洛必达，仍是0/0)
>      = lim(x→0) [eˣ] / 2  (第二次洛必达)
>      = 1/2
>
> **评注**：本题考查洛必达法则的连续应用和最后极限的确定

> [!example] 例2：结合等价无穷小
> **题目**：求 lim(x→0) (1-cosx) / x²
>
> **分析**：是0/0型，可以先用等价无穷小简化
>
> **解答**：
> 方法1 - 直接洛必达：
> = lim(x→0) [sinx] / (2x)
> = lim(x→0) [cosx] / 2
> = 1/2
>
> 方法2 - 等价无穷小：
> 1-cosx ~ x²/2 (x→0)
> 原式 = lim(x→0) (x²/2) / x² = 1/2
>
> **评注**：等价无穷小可以简化计算，是重要的解题技巧

## 相关知识点
- [[极限定义]]
- [[等价无穷小]]
- [[泰勒公式]]
```

### 演示2：笔记更新

**用户输入**：
```
我在学习洛必达法则笔记时，对"直观理解"部分不太理解。
"变化速度"这个概念还是有点抽象，能不能用更直观的例子？
而且我对条件2不太明白，为什么要求g'(x)≠0？
```

**AI 处理**：
1. 定位到"洛必达法则.md"文件
2. 分析反馈：需要更直观的例子 + 解释条件2
3. 在"直观理解"和"定理条件"部分更新内容
4. 添加更新标记

**更新后的笔记片段**：
```markdown
## 直观理解 💡
洛必达法则的本质是比较两个函数"变化速度"的快慢。当两个函数都趋向0或∞时，通过比较它们的导数（变化率）来确定原函数的比值趋向。

**类比**：就像赛跑，如果两个选手都同时冲过终点线（都趋向0），通过比较他们的加速度（导数）来判断谁更快。

<!-- UPDATE: 2025-XX-XX 用户反馈需要更直观的例子 -->
**更直观的例子**：

想象两个队伍的人数都在变化：
- 甲队：第一天100人，第二天110人，第三天121人（每天增加10%）
- 乙队：第一天100人，第二天108人，第三天116.64人（每天增加8%）

两天后两队人数相同（从100开始），但增长率（导数）不同，甲队增长更快。

这就像求极限时，两个函数同时趋向0，但趋向的"速度"不同，洛必达法则就是比较这个"速度"。

**几何理解**：
函数的导数是切线的斜率，表示变化率。洛必达法则就是说：当x趋近x₀时，f(x)/g(x)的比值由它们在该点的变化率之比决定。
<!-- END UPDATE -->

## 定理条件 ⚠️
⚠️ 使用洛必达法则必须满足以下条件：
1. lim f(x) = lim g(x) = 0 或 ∞（必须是0/0或∞/∞型）
2. f(x)和g(x)在某去心邻域内可导，且g'(x)≠0
3. lim f'(x)/g'(x) 存在或为∞

<!-- UPDATE: 2025-XX-XX 用户反馈不理解条件2 -->
**为什么要求g'(x)≠0？**

从数学公式看：
洛必达法则计算的是 f'(x)/g'(x)，如果g'(x)=0x，则这个分数无法计算。

从实际意义看：
g'(x)=0意味着函数g(x)在该点的变化率为0，即g(x)在该点附近是"平的"（常数）。如果g(x)的变化率为0而f(x)的变化率不为0，那么f(x)/g(x)会趋向无穷大（或不存在），这种情况洛必达法则不适用。

**例子**：
求 lim(x→0) x / sin(x³)

这里g'(x) = 3x²cos(x³)，当x→0时，g'(x)→0，洛必达法则失效。
需要直接用等价无穷小：x ~ x，sin(x³) ~ x³，所以原式 = lim x/x³ = lim 1/x² = ∞
<!-- END UPDATE -->

⚠️ 常见错误：忽略条件1，直接对非0/0型使用
```

---

## 验证标准

1. 能正确解析用户现成笔记
2. 能识别知识点结构并按知识点分文件
3. 生成的笔记包含 Obsidian 格式（properties、tags、callouts、wikilinks）
4. 生成的笔记包含考研导向内容（考试重点、题型、易错点）
5. 能根据用户反馈定位对应的知识点文件
6. 能正确更新笔记文件并添加更新标记
7. 索引文件能正确链接所有知识点
8. 学习进度 dashboard 能显示状态
9. 触发条件准确（不会误触发）
10. 生成的笔记包含"我的理解记录 🧠"部分，记录用户的学习轨迹
11. 生成的笔记包含"我的错误类型 📌"部分，标注个性化错误模式
12. AI能根据用户反馈正确更新思维过程记录字段
13. 用户可以基于这些记录进行自我反思和改进

---

## 限制条件

- 需要用户提供现成笔记或文件路径
- 需要明确模块信息（高数/线代/概率）
- 笔记更新需要提供之前的笔记文件路径
- 触发条件明确要求"考研"上下文

---

## 技能调用提示

### 生成笔记时：
1. 首先确认用户是否提供了现成笔记
2. 识别模块信息（高数/线代/概率）
3. 确认考试类型（数一/数二/数三）
4. 解析笔记内容，识别知识点
5. 按知识点点生成文件
6. 创建索引和学习进度文件

### 更新笔记时：
1. 确认有之前生成的笔记文件
2. 定位用户反馈对应的知识点
3. 分析理解障碍类型
4. 生成补充内容
5. 更新文件并添加标记
