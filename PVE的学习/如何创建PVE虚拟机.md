# 1. 创建虚拟机，本质在做哪些事？

先给你一句**总纲**：

> **创建虚拟机 = 给一台“假电脑”分配硬件资源 + 接好网络 + 准备装系统**

这台“假电脑”会有：

|真实电脑|虚拟机|
|---|---|
|主板|虚拟主板|
|CPU|vCPU|
|内存|虚拟内存|
|硬盘|虚拟磁盘|
|网卡|虚拟网卡|
|U 盘 / 光驱|ISO|
# 2. PVE 中「创建虚拟机」完整流程
## 2.1  常规配置
![](assets/如何创建PVE虚拟机/截屏2026-01-31%2013.39.50.png)
这里我们一般是配置这里的==**VM ID**==和==**名称**==
![](assets/如何创建PVE虚拟机/截屏2026-01-31%2013.43.29.png)
## 2.2 OS（操作系统）
![](assets/如何创建PVE虚拟机/截屏2026-01-31%2013.48.27.png)
 **核心问题：**

👉 **这台虚拟机是“怎么启动的”？**

### 2.2.1 常见选择

**✔ Use CD/DVD disc image file (iso)**

>- 用 ISO 装系统（Linux / Windows）

**✔ Do not use any media**

>- iStoreOS / OpenWRT 常用
>- 稍后手动导入磁盘

### 2.2.2 ISO 文件从哪来？

👉 **PVE 的存储库（local）里**
`Datacenter → Storage → local → ISO Images`
## 2.3 System（系统）
![](assets/如何创建PVE虚拟机/截屏2026-01-31%2013.48.50.png)
这里是**很多人第一次会懵的地方**，但你现在能懂。
### 2.3.1 BIOS

|选项|建议|
|---|---|
|SeaBIOS|老系统 / 简单|
|OVMF (UEFI)|**现代系统推荐**|

👉 **Linux / Windows 10+ / iStoreOS → UEFI**
#### SeaBIOS 是什么？

**本质**

>- 传统 PC BIOS 的模拟实现
>- 诞生很早（DOS / Win7 以前时代）

**特点**

>- 只能从 **MBR 磁盘** 启动
>- 不需要额外启动盘
>- 启动流程简单

**🧠 类比**

老台式机：

>- 黑底白字
>- 按 `Del` 进 BIOS

#### UEFI（OVMF）是什么？

**本质**

>- 新一代固件标准
>- PVE 中叫 **OVMF**

**特点**

>- 使用 **GPT 分区**
>- 启动信息存放在 **EFI 分区**
>- 支持大硬盘、Secure Boot（可选）
>- 现代 Linux / Windows 默认

**🧠 类比**

新电脑：

>- 彩色界面
>- 支持鼠标
>- NVMe / 大硬盘

#### SeaBIOS vs UEFI 的关键区别（你要记住的）

|对比点|SeaBIOS|UEFI|
|---|---|---|
|启动时代|老|新|
|磁盘分区|MBR|GPT|
|EFI 分区|不需要|**必须**|
|大于 2TB|❌|✅|
|Secure Boot|❌|可选|
|现代系统|勉强|**原生**|
|PVE 推荐|❌|**✅**|

👉 **结论：新系统一律用 UEFI**

### 2.3.2 机型

>- `q35`（新）
>- `i440fx`（老）

👉 **选 择**
>- 这里的i440fx不支持最新的PCIe或一些NVME但是兼容性最好
>- q35是支持一些新的设备的。


### 🔹 EFI Disk（如果用 UEFI）

⚠️ **必须加！**

- 这是 UEFI 的“启动配置盘”
    
- 不是真正的系统盘
    

---

### 🔹 SCSI Controller

👉 **VirtIO SCSI**

性能最好，CPU 占用低。

---