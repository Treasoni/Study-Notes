
# Promptï¼ˆæç¤ºè¯ï¼‰

> ğŸ¯ **å†™ä¿¡æ¯”å–»**
>
> ç”¨ AI å°±åƒå†™ä¿¡ç»™ä¸€ä¸ªäººï¼š
> - **User Prompt** = ä½ æ¯æ¬¡å†™çš„å†…å®¹
> - **System Prompt** = æ”¶ä¿¡äººçš„ã€Œè®¾å®šã€ï¼ˆæ¯”å¦‚ï¼šã€Œä½ æ˜¯åŒ»ç”Ÿã€ï¼‰
>
> æœ‰äº†è®¾å®šï¼Œå¯¹æ–¹å°±ä¼šç”¨åŒ»ç”Ÿçš„ä¸“ä¸šèº«ä»½å›ç­”ä½ ï¼

## 1. User Promptï¼ˆç”¨æˆ·æç¤ºè¯ï¼‰

åœ¨ AI åˆšå…´èµ·çš„æ—¶å€™ï¼ˆå¦‚ OpenAI å‘å¸ƒ GPTï¼‰ï¼ŒAI å°±åƒä¸€ä¸ªèŠå¤©æ¡†ã€‚æˆ‘ä»¬é€šè¿‡èŠå¤©æ¡†ç»™ AI æ¨¡å‹å‘é€æ¶ˆæ¯ï¼ŒAI æ¨¡å‹ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå›å¤ã€‚è¿™é‡Œæˆ‘ä»¬ç»™ AI æ¨¡å‹å‘é€çš„ä¿¡æ¯å°±æ˜¯ **ç”¨æˆ·æç¤ºè¯ï¼ˆUser Promptï¼‰**ã€‚

## 2. System Promptï¼ˆç³»ç»Ÿæç¤ºè¯ï¼‰

ä½†æ˜¯å•çº¯çš„èŠå¤©æ¨¡å¼ä¸‹ï¼ŒAI åªèƒ½ç»™å‡ºé€šç”¨çš„å›ç­”ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦ AI å…·æœ‰ç‰¹å®šäººè®¾ï¼Œå¯ä»¥åœ¨æ¶ˆæ¯ä¸­æŒ‡å®šï¼Œæ¯”å¦‚ï¼šã€Œä½ æ˜¯æˆ‘çš„å¥³æœ‹å‹ï¼Œæˆ‘çš„è‚šå­ç—›ã€‚ã€

è¿™æ · AI å°±ä¼šä»ã€Œå¥³æœ‹å‹ã€çš„è§’åº¦æ¥å›å¤æ¶ˆæ¯ï¼Œå®ç°ä¸åŒäººè®¾åšå‡ºä¸åŒå›ç­”ã€‚ä½†æ¯æ¬¡éƒ½è¦åœ¨ç”¨æˆ·æ¶ˆæ¯ä¸­å†™äººè®¾å¾ˆä¸æ–¹ä¾¿ï¼Œäºæ˜¯å‡ºç°äº† **ç³»ç»Ÿæç¤ºè¯ï¼ˆSystem Promptï¼‰**ã€‚

> **æ¯”å–»**ï¼šå°±åƒç»™æ¼”å‘˜è®¾å®šè§’è‰²â€”â€”ã€Œä½ æ¼”åŒ»ç”Ÿã€ã€ã€Œä½ æ¼”è€å¸ˆã€ã€‚
> æ¼”å‘˜è®°ä½è§’è‰²åï¼Œä¹‹åçš„æ¯ä¸€å¥è¯éƒ½ç¬¦åˆè¿™ä¸ªäººè®¾ã€‚

![](assets/Prompt,%20Agent,%20MCP%20æ˜¯ä»€ä¹ˆ/file-20260205124233782.png)

System Prompt ç”¨äºé¢„å…ˆè®¾ç½®äººè®¾ã€è§’è‰²ã€è¡Œä¸ºå‡†åˆ™ç­‰ä¿¡æ¯ã€‚ä¹‹åæ¯æ¬¡å‘é€ User Prompt æ—¶ï¼Œä¼šè‡ªåŠ¨æŠŠ System Prompt ä¸€èµ·å‘ç»™ AI æ¨¡å‹ã€‚

### Prompt çš„è§’è‰²åˆ†å·¥

| ç±»å‹ | ä½œç”¨ | ä½ç½® | æ¯”å–» | ç¤ºä¾‹ |
|------|------|------|------|------|
| **System Prompt** | å®šä¹‰è§’è‰²ã€äººè®¾ã€è¡Œä¸ºå‡†åˆ™ | æœ€å…ˆå‘é€ | æ¼”å‘˜çš„è§’è‰²å¡ | ã€Œä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¨‹åºå‘˜åŠ©æ‰‹ã€ |
| **User Prompt** | ç”¨æˆ·çš„å®é™…è¾“å…¥ | ä¸­é—´å‘é€ | è§‚ä¼—çš„é—®é¢˜ | ã€Œå¸®æˆ‘å†™ä¸€ä¸ªå¿«é€Ÿæ’åºã€ |
| **Assistant Message** | AI çš„å›å¤ | æœ€åè¿”å› | æ¼”å‘˜çš„å°è¯ | AI ç”Ÿæˆçš„å›ç­”å†…å®¹ |


# Agentï¼ˆæ™ºèƒ½ä½“ï¼‰

> ğŸ¯ **å…¨èƒ½ç®¡å®¶æ¯”å–»**
>
> AI åŸæœ¬åªèƒ½èŠå¤©ï¼ˆåƒæ™®é€šç®¡å®¶ï¼‰ã€‚
> Agent è®© AI å­¦ä¼šäº†åŠ¨æ‰‹å¹²æ´»ï¼ˆåƒå…¨èƒ½ç®¡å®¶ï¼‰ï¼š
> - éœ€è¦å¤©æ°”ï¼ŸAgent è°ƒç”¨å¤©æ°”å·¥å…·
> - éœ€è¦æŸ¥èµ„æ–™ï¼ŸAgent è°ƒç”¨æœç´¢å·¥å…·
> - éœ€è¦å†™æ–‡ä»¶ï¼ŸAgent è°ƒç”¨æ–‡ä»¶å·¥å…·
>
> ä»ã€Œåªä¼šè¯´ã€å˜æˆã€Œèƒ½è¯´èƒ½åšã€ï¼

## 1. ä¸ºä»€ä¹ˆéœ€è¦ Agentï¼Ÿ

æŒ‰ç…§ä¸Šé¢çš„æ¨¡å‹ï¼ŒAI å¯ä»¥æ ¹æ®ä¸åŒçš„äººè®¾åšå‡ºä¸åŒçš„å›ç­”ã€‚ä½†æˆ‘ä»¬ä¸æƒ³åªæŠŠ AI å½“æˆä¸€ä¸ªèŠå¤©å·¥å…·ï¼Œè€Œæ˜¯å¸Œæœ›å®ƒèƒ½å¤Ÿå®ç°å…·ä½“åŠŸèƒ½ã€æ‰§è¡Œæ“ä½œã€‚

å› æ­¤å°±å‡ºç°äº† **Agentï¼ˆæ™ºèƒ½ä½“ï¼‰**ã€‚

## 2. Agent çš„å·¥ä½œåŸç†

Agent çš„æ ¸å¿ƒæ˜¯ **Toolsï¼ˆå·¥å…·ï¼‰**â€”â€”ä¸€äº›å¯ä»¥è¢«è°ƒç”¨çš„å‡½æ•°ã€‚è¿™äº›å‡½æ•°æŠŠè‡ªå·±çš„åŠŸèƒ½åç§°ã€æè¿°ã€å‚æ•°æ ¼å¼ç­‰ä¿¡æ¯æ³¨å†Œåˆ° Agent ä¸­ã€‚

> **æ¯”å–»**ï¼šå°±åƒä¸€ä¸ªå·¥å…·ç®±ï¼Œæ¯ä¸ªå·¥å…·éƒ½æœ‰è‡ªå·±çš„è¯´æ˜ä¹¦ã€‚
> Agent å°±åƒä¸€ä¸ªç†Ÿç»ƒçš„å·¥äººï¼ŒçŸ¥é“ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ä»€ä¹ˆå·¥å…·ã€‚

Agent çš„å·¥ä½œæµç¨‹ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Agent æ”¶é›†æ‰€æœ‰ Tools çš„ä¿¡æ¯ï¼ˆåç§°ã€åŠŸèƒ½ã€å‚æ•°æ ¼å¼ï¼‰           â”‚
â”‚  2. Agent å°†è¿™äº›ä¿¡æ¯æ„é€ æˆ System Promptï¼Œå‘Šè¯‰ AI æœ‰å“ªäº›å·¥å…·å¯ç”¨  â”‚
â”‚  3. Agent å‘é€ System Prompt + User Prompt ç»™ AI æ¨¡å‹             â”‚
â”‚  4. AI å†³å®šæ˜¯å¦éœ€è¦è°ƒç”¨å·¥å…·ï¼Œè¿”å›è°ƒç”¨è¯·æ±‚                          â”‚
â”‚  5. Agent æ¥æ”¶è¯·æ±‚ï¼Œæ‰§è¡Œå¯¹åº”çš„ Tool å‡½æ•°                           â”‚
â”‚  6. Tool æ‰§è¡Œå®Œå°†ç»“æœè¿”å›ç»™ Agent                                 â”‚
â”‚  7. Agent å°†ç»“æœå‘é€ç»™ AIï¼ŒAI åŸºäºç»“æœç»§ç»­ç”Ÿæˆå†…å®¹                 â”‚
â”‚  8. å¦‚æœè¿˜éœ€è¦è°ƒç”¨å·¥å…·ï¼Œé‡å¤ 4-7 æ­¥ï¼Œå¦åˆ™è¿”å›æœ€ç»ˆç­”æ¡ˆç»™ç”¨æˆ·        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
![](assets/Prompt,%20Agent,%20MCP%20æ˜¯ä»€ä¹ˆ/file-20260205124252571.png)
## 3. Agent çš„å…³é”®ç»„ä»¶

| ç»„ä»¶ | ä½œç”¨ | æ¯”å–» |
|------|------|------|
| **Agent Framework** | Agent æ¡†æ¶ï¼Œåè°ƒ AI å’Œå·¥å…·ä¹‹é—´çš„äº¤äº’ | å»ºç­‘å…¬å¸çš„é¡¹ç›®ç»ç† |
| **Tools** | å¯è¢«è°ƒç”¨çš„å‡½æ•°ï¼Œæä¾›å…·ä½“åŠŸèƒ½ï¼ˆå¦‚å¤©æ°”æŸ¥è¯¢ã€æ–‡ä»¶æ“ä½œç­‰ï¼‰ | ä¸“ä¸šçš„å·¥äººå¸ˆå‚…ï¼ˆç”µå·¥ã€æœ¨å·¥ç­‰ï¼‰ |
| **Tool Registry** | å·¥å…·æ³¨å†Œè¡¨ï¼Œå­˜å‚¨æ‰€æœ‰å·¥å…·çš„å…ƒä¿¡æ¯ | å·¥äººé€šè®¯å½•ï¼ˆçŸ¥é“æ¯ä¸ªå·¥äººä¼šä»€ä¹ˆï¼‰ |
| **AI Model** | å¤§è¯­è¨€æ¨¡å‹ï¼Œè´Ÿè´£ç†è§£æ„å›¾å’Œå†³ç­– | æ€»å·¥ç¨‹å¸ˆï¼ˆè§„åˆ’æ€ä¹ˆåšï¼‰ |

# Function Callingï¼ˆå‡½æ•°è°ƒç”¨ï¼‰

> ğŸ¯ **å¡«è¡¨æ¯”å–»**
>
> - **è‡ªç„¶è¯­è¨€æ–¹å¼** = è®© AI å¡«å†™ã€Œè¯·å†™ä¸€ä»½æŠ¥å‘Šã€ï¼Œæ ¼å¼ä¸å›ºå®š
> - **Function Calling** = ç»™ AI ä¸€å¼ å›ºå®šæ ¼å¼çš„è¡¨å•ï¼šã€Œå§“åï¼š[ ] ç”µè¯ï¼š[ ]ã€
>
> æœ‰äº†è¡¨å•ï¼ŒAI çŸ¥é“ç¡®åˆ‡è¦å¡«ä»€ä¹ˆï¼

## 1. ä¸ºä»€ä¹ˆéœ€è¦ Function Callingï¼Ÿ

åœ¨æ—©æœŸçš„ Agent å®ç°ä¸­ï¼ŒAgent é€šè¿‡è‡ªç„¶è¯­è¨€ï¼ˆå¤§ç™½è¯ï¼‰å‘Šè¯‰ AI æ¨¡å‹åº”è¯¥å¦‚ä½•ä½¿ç”¨å·¥å…·ã€è¿”å›ä»€ä¹ˆæ ¼å¼ã€‚ä½† AI æ˜¯ä¸€ä¸ªæ¦‚ç‡æ¨¡å‹ï¼Œè¾“å‡ºå¯èƒ½ä¸ç¨³å®šï¼Œæœ‰æ—¶è¿”å›æ­£ç¡®çš„è°ƒç”¨æ ¼å¼ï¼Œæœ‰æ—¶åˆ™ä¸ä¼šã€‚ä¸ºäº†ä¿è¯å¯é æ€§ï¼Œå¯èƒ½éœ€è¦å¤šæ¬¡å°è¯•æˆ–é‡è¯•ã€‚

> **æ¯”å–»**ï¼šå°±åƒè®© AI ã€Œè¯´ä¸€ä¸ªç”µè¯å·ç ã€ï¼Œå®ƒå¯èƒ½è¯´ã€Œæˆ‘çš„ç”µè¯æ˜¯ 12345678ã€ï¼Œ
> ä¹Ÿå¯èƒ½è¯´ã€Œç”µè¯ï¼š12345678ã€ï¼Œç”šè‡³å¯èƒ½ä¸æŒ‰æ ¼å¼è¯´ã€‚
> Function Calling å°±åƒç»™å‡ºä¸€å¼ è¡¨å•ï¼ŒAI å¿…é¡»æŒ‰å›ºå®šæ ¼å¼å¡«å†™ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå‡ºç°äº† **Function Callingï¼ˆå‡½æ•°è°ƒç”¨ï¼‰**â€”â€”ä¸€ç§æ ‡å‡†åŒ–çš„å·¥å…·è°ƒç”¨æœºåˆ¶ã€‚

## 2. Function Calling çš„æ”¹è¿›

| æ–¹å¼ | æè¿°æ ¼å¼ | ç¨³å®šæ€§ | æ¯”å–» |
|------|----------|--------|------|
| **è‡ªç„¶è¯­è¨€æè¿°** | ç”¨æ–‡å­—æè¿°å·¥å…·å’Œè¿”å›æ ¼å¼ | ä¸ç¨³å®šï¼ŒAI å¯èƒ½ä¸éµå¾ªæ ¼å¼ | å£å¤´ä¼ è¾¾ä»»åŠ¡ |
| **Function Calling** | ç”¨ JSON Schema è§„èŒƒæè¿°å·¥å…· | ç¨³å®šï¼Œå¼ºåˆ¶æ ¼å¼çº¦æŸ | å¡«å†™æ ‡å‡†è¡¨å• |

Function Calling çš„æ ¸å¿ƒæ”¹è¿›ï¼š

1. **å·¥å…·æè¿°æ ‡å‡†åŒ–**ï¼šæ¯ä¸ª Tool ç”¨ JSON Schema å¯¹è±¡è¿›è¡Œæè¿°
2. **è°ƒç”¨æ ¼å¼æ ‡å‡†åŒ–**ï¼šè§„å®šäº† AI ä½¿ç”¨å·¥å…·æ—¶åº”è¿”å›çš„å›ºå®šæ ¼å¼
3. **è¿”å›å€¼ç±»å‹çº¦æŸ**ï¼šæ˜ç¡®å®šä¹‰å‚æ•°ç±»å‹ï¼ˆstringã€numberã€array ç­‰ï¼‰

> **æ¯”å–»**ï¼š
> - æ²¡æœ‰çº¦æŸ = ã€Œè¯´ä¸€ä¸ªæ•°å­—ã€â†’ AI å¯èƒ½è¯´ã€Œä¸‰ã€ï¼Œä¹Ÿå¯èƒ½è¯´ã€Œ3ã€ï¼Œä¹Ÿå¯èƒ½è¯´ã€Œ03ã€
> - æœ‰ç±»å‹çº¦æŸ = ã€Œè¯´ä¸€ä¸ªæ•´æ•°ã€â†’ AI å¿…é¡»è¿”å› `3`

### Function Calling çš„å·¥å…·æè¿°ç¤ºä¾‹

```json
{
  "type": "function",
  "function": {
    "name": "get_weather",
    "description": "è·å–æŒ‡å®šåŸå¸‚çš„å¤©æ°”ä¿¡æ¯",
    "parameters": {
      "type": "object",
      "properties": {
        "city": {
          "type": "string",
          "description": "åŸå¸‚åç§°"
        }
      },
      "required": ["city"]
    }
  }
}
```

## 3. ç›®å‰çš„ç°çŠ¶

Function Calling åŸæœ¬æ˜¯ä¸€ä¸ªé€šç”¨æ¦‚å¿µï¼Œä½†ä¸åŒå¤§æ¨¡å‹å‚å•†çš„å®ç°æ–¹å¼ä¸åŒï¼ˆOpenAIã€Anthropicã€Google ç­‰çš„ API æ ¼å¼éƒ½ä¸å®Œå…¨ä¸€è‡´ï¼‰ã€‚

> **æ¯”å–»**ï¼šå°±åƒä¸åŒå“ç‰Œçš„å……ç”µå¤´â€”â€”
> - iPhone ç”¨ Lightning æ¥å£
> - Android ç”¨ USB-C æ¥å£
> - åŠŸèƒ½éƒ½ä¸€æ ·ï¼ˆå……ç”µï¼‰ï¼Œä½†å½¢çŠ¶ä¸åŒ

å› æ­¤ç›®å‰å®è·µä¸­ï¼š
- **æ ‡å‡† Function Calling**ï¼šç”¨äºä¸»æµ AI å‚å•†çš„ä¸“ç”¨æ ¼å¼
- **System Prompt æ–¹å¼**ï¼šç”¨äºå…¼å®¹æ€§æˆ–ç‰¹æ®Šåœºæ™¯
- ä¸¤ç§æ–¹å¼æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©ä½¿ç”¨


# MCPï¼ˆModel Context Protocolï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰

> ğŸ¯ **USB æ¥å£æ¯”å–»**
>
> åœ¨ MCP å‡ºç°ä¹‹å‰ï¼Œæ¯ä¸ªå·¥å…·éƒ½æœ‰è‡ªå·±çš„æ¥å£ï¼š
> - å¤©æ°”å·¥å…·ç”¨ã€Œå¤©æ°”æ¥å£ã€
> - æ–‡ä»¶å·¥å…·ç”¨ã€Œæ–‡ä»¶æ¥å£ã€
> - æœç´¢å·¥å…·ç”¨ã€Œæœç´¢æ¥å£ã€
>
> å°±åƒæ¯ä¸ªè®¾å¤‡éƒ½éœ€è¦ä¸“ç”¨æ’å¤´ï¼Œæ¢ä¸ªè®¾å¤‡å°±å¾—æ¢ä¸ªæ’åº§ï¼
>
> MCP å°±åƒ **USB**â€”â€”ä¸€ä¸ªé€šç”¨æ ‡å‡†ï¼Œæ‰€æœ‰è®¾å¤‡éƒ½èƒ½ç”¨åŒä¸€ä¸ªæ¥å£ï¼

## 1. ä¸ºä»€ä¹ˆéœ€è¦ MCPï¼Ÿ

ä¸Šé¢è®¨è®ºçš„éƒ½æ˜¯ Agent ä¸ AI å¤§æ¨¡å‹ä¹‹é—´çš„äº¤äº’æ–¹å¼ã€‚ä½†æ˜¯ Agent å¦‚ä½•ä¸ Tools é€šä¿¡å‘¢ï¼Ÿ

æ¯ä¸ªå¼€å‘è€…å¯èƒ½ç”¨ä¸åŒçš„æ–¹å¼å®ç° Toolsï¼š
- ä¸åŒçš„æ¥å£æ ¼å¼
- ä¸åŒçš„é€šä¿¡æ–¹å¼
- ä¸åŒçš„å‚æ•°å®šä¹‰

> **æ¯”å–»**ï¼šå°±åƒæ¯ä¸ªå¨å¸ˆéƒ½è¯´è‡ªå·±çš„æ–¹è¨€â€”â€”
> - å¼ å¨å¸ˆè¯´ï¼šã€Œç‚’ï¼æ”¾ç›ï¼ã€
> - æå¨å¸ˆè¯´ï¼šã€ŒåŠ æ¸©ï¼åŠ ç›ï¼ã€
> - ç‹å¨å¸ˆè¯´ï¼šã€Œèµ·é”…ï¼æ”¾ç›ï¼ã€
>
> ä»–ä»¬å¬ä¸æ‡‚å½¼æ­¤ï¼Œæ— æ³•ååŒå·¥ä½œï¼

è¿™å¯¼è‡´ä¸åŒ Agent ä¹‹é—´å¾ˆéš¾å…±äº«å·¥å…·ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå‡ºç°äº† **MCPï¼ˆModel Context Protocolï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰**ã€‚

## 2. MCP çš„è§’è‰²

| åŸæœ‰æ¦‚å¿µ | MCP æ¦‚å¿µ | æ¯”å–» |
|----------|----------|------|
| Agent Tools | **MCP Server** | ä¸“ä¸šæœåŠ¡åº— |
| Agent | **MCP Client** | éœ€è¦æœåŠ¡çš„å®¢æˆ· |

## 3. MCP åè®®è§„èŒƒ

MCP è§„å®šäº† MCP Server å’Œ MCP Client ä¹‹é—´çš„é€šä¿¡æ ‡å‡†ï¼š

> **æ¯”å–»**ï¼šå°±åƒå¤–å–å¹³å°çš„ç»Ÿä¸€æ ‡å‡†â€”â€”
> - æ‰€æœ‰é¤å…éƒ½å¿…é¡»ç”¨ç»Ÿä¸€çš„èœå•æ ¼å¼
> - æ‰€æœ‰éª‘æ‰‹éƒ½ç”¨ç»Ÿä¸€çš„å–é¤ç 
> - å®¢æˆ·ä¸ç®¡ä»å“ªå®¶ç‚¹é¤ï¼Œæ“ä½œæµç¨‹éƒ½ä¸€æ ·

### 3.1 é€šä¿¡æ–¹å¼

MCP æ”¯æŒå¤šç§ä¼ è¾“æ–¹å¼ï¼š
- **stdio**ï¼šæ ‡å‡†è¾“å…¥è¾“å‡ºï¼Œé€‚ç”¨äºæœ¬åœ°è¿›ç¨‹
- **SSEï¼ˆServer-Sent Eventsï¼‰**ï¼šæœåŠ¡å™¨æ¨é€äº‹ä»¶ï¼Œé€‚ç”¨äº Web åœºæ™¯

> **æ¯”å–»**ï¼š
> - stdio = åƒé¢å¯¹é¢ä¼ çº¸æ¡
> - SSE = åƒæ‰“ç”µè¯å®æ—¶æ²Ÿé€š

### 3.2 MCP Server å¿…é¡»æä¾›çš„æ¥å£

| æ¥å£ | ä½œç”¨ | æ¯”å–» |
|------|------|------|
| `tools/list` | è·å– Server ä¸­æ‰€æœ‰å¯ç”¨çš„ Tool åˆ—è¡¨ | ã€Œä½ ä»¬åº—æœ‰ä»€ä¹ˆèœï¼Ÿã€ |
| `tools/call` | è°ƒç”¨æŒ‡å®šçš„ Tool å¹¶è¿”å›ç»“æœ | ã€Œæˆ‘è¦ä¸€ä»½å®«ä¿é¸¡ä¸ã€ |
| `prompts/list` | è·å–å¯ç”¨çš„ Prompt æ¨¡æ¿ï¼ˆå¯é€‰ï¼‰ | ã€Œæœ‰ä»€ä¹ˆå¥—é¤æ¨èï¼Ÿã€ |
| `resources/list` | è·å–å¯ç”¨èµ„æºåˆ—è¡¨ï¼ˆå¯é€‰ï¼‰ | ã€Œæœ‰ä»€ä¹ˆé…æ–™å¯ä»¥åŠ ï¼Ÿã€ |

### 3.3 MCP çš„ä¼˜åŠ¿

1. **æ ‡å‡†åŒ–**ï¼šç»Ÿä¸€çš„å·¥å…·æè¿°å’Œè°ƒç”¨æ ¼å¼
2. **å¯å¤ç”¨**ï¼šä¸€ä¸ª MCP Server å¯ä»¥è¢«å¤šä¸ª Agent ä½¿ç”¨
3. **è·¨è¯­è¨€**ï¼šä¸é™åˆ¶ç¼–ç¨‹è¯­è¨€ï¼Œä»»ä½•è¯­è¨€éƒ½èƒ½å®ç° MCP åè®®
4. **åˆ†å¸ƒå¼**ï¼šå·¥å…·å¯ä»¥éƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Š

> **æ¯”å–»**ï¼šå°±åƒ USB è®¾å¤‡â€”â€”
> - ä¸€ä¸ª U ç›˜å¯ä»¥æ’åœ¨ Windowsã€Macã€Linux ä¸Šï¼ˆè·¨è¯­è¨€ï¼‰
> - ä¸€ä¸ª U ç›˜å¯ä»¥åŒæ—¶è¢«å¤šå°ç”µè„‘ä½¿ç”¨ï¼ˆå¯å¤ç”¨ï¼‰
> - U ç›˜å¯ä»¥åœ¨äº‘ç«¯ï¼Œä¹Ÿå¯ä»¥åœ¨æœ¬åœ°ï¼ˆåˆ†å¸ƒå¼ï¼‰


# æ€»ç»“ï¼šå®Œæ•´çš„å·¥ä½œæµç¨‹

> ğŸ¯ **è£…ä¿®å…¬å¸æ¯”å–»**
>
> æƒ³è±¡ä½ è¦è£…ä¿®æˆ¿å­ï¼š
> ```
> ä½ ï¼ˆç”¨æˆ·ï¼‰
>     â†“ è¯´ã€Œæˆ‘è¦è£…ä¿®å®¢å…ã€
> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â”‚         Agentï¼ˆé¡¹ç›®ç»ç†ï¼‰                                       â”‚
> â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
> â”‚  â”‚  1. äº†è§£æœ‰å“ªäº›å·¥äººå¯ç”¨ï¼ˆè¿æ¥ MCP Serversï¼‰              â”‚  â”‚
> â”‚  â”‚  2. å‘Šè¯‰è®¾è®¡å¸ˆå·¥äººåˆ—è¡¨ï¼ˆæ„é€  System Promptï¼‰            â”‚  â”‚
> â”‚  â”‚  3. è®¾è®¡å¸ˆæ”¶åˆ°ä½ çš„éœ€æ±‚å’Œå·¥äººä¿¡æ¯                         â”‚  â”‚
> â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
> â”‚         â”‚                                                    â”‚
> â”‚         â†“ è®¾è®¡å¸ˆè¯´ã€Œéœ€è¦æœ¨å·¥åšæŸœå­ã€                          â”‚
> â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
> â”‚  â”‚  4. è”ç³»æœ¨å·¥ï¼ˆé€šè¿‡ MCP è°ƒç”¨å·¥å…·ï¼‰                       â”‚  â”‚
> â”‚  â”‚  5. æœ¨å·¥åšå®ŒæŸœå­ï¼Œè¿”å›ç»“æœ                              â”‚  â”‚
> â”‚  â”‚  6. å‘Šè¯‰è®¾è®¡å¸ˆã€ŒæŸœå­åšå¥½äº†ã€ï¼Œç»§ç»­ä¸‹ä¸€æ­¥                 â”‚  â”‚
> â”‚  â”‚  7. é‡å¤ç›´åˆ°è£…ä¿®å®Œæˆ                                     â”‚  â”‚
> â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
> â”‚         â†“                                                   â”‚
> â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
>     â†“ ã€Œè£…ä¿®å®Œæˆäº†ï¼ã€
> ä½ 
> ```

## æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                         â”‚
â”‚    ç”¨æˆ·                                                                  â”‚
â”‚     â”‚                                                                   â”‚
â”‚     â”‚ User Prompt                                                       â”‚
â”‚     â†“                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         Agent (ä½œä¸º MCP Client)                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚  1. è¿æ¥ MCP Serversï¼Œè·å–æ‰€æœ‰ Tools ä¿¡æ¯                   â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  2. å°† Tool ä¿¡æ¯è½¬åŒ–ä¸º System Prompt æˆ– Function Calling   â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  3. å‘é€ System Prompt + User Prompt ç»™ AI æ¨¡å‹            â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â”‚         â”‚                                                    â”‚    â”‚
â”‚  â”‚         â”‚ AI å“åº”ï¼ˆæ–‡æœ¬æˆ–å·¥å…·è°ƒç”¨è¯·æ±‚ï¼‰                        â”‚    â”‚
â”‚  â”‚         â†“                                                    â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚
â”‚  â”‚  â”‚  å¦‚æœéœ€è¦è°ƒç”¨å·¥å…·ï¼š                                       â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  4. è§£æ AI è¿”å›çš„å·¥å…·è°ƒç”¨è¯·æ±‚                             â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  5. é€šè¿‡ MCP åè®®è°ƒç”¨å¯¹åº”çš„ MCP Server                    â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  6. å°†å·¥å…·æ‰§è¡Œç»“æœè¿”å›ç»™ AI ç»§ç»­å¤„ç†                       â”‚  â”‚    â”‚
â”‚  â”‚  â”‚  7. é‡å¤ç›´åˆ° AI ç”Ÿæˆæœ€ç»ˆç­”æ¡ˆ                              â”‚  â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚
â”‚  â”‚         â”‚                                                    â”‚    â”‚
â”‚  â”‚         â”‚ æœ€ç»ˆç­”æ¡ˆ                                            â”‚    â”‚
â”‚  â”‚         â†“                                                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚     â”‚                                                                   â”‚
â”‚     â”‚ è¿”å›ç»“æœ                                                           â”‚
â”‚     â†“                                                                   â”‚
â”‚    ç”¨æˆ·                                                                  â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              MCP Servers (æä¾›å„ç§å·¥å…·)                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚   Weather MCP    â”‚  â”‚  Filesystem MCP  â”‚  â”‚  GitHub MCP  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚   Server         â”‚  â”‚  Server          â”‚  â”‚  Server      â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ ¸å¿ƒæ¦‚å¿µå…³ç³»

> ğŸ¯ **é¤å…ç‚¹é¤æ¯”å–»**
>
> ```
> ä½ ï¼ˆé¡¾å®¢ï¼‰
>     â†“ è¯´ã€Œæˆ‘è¦ä¸€ä»½å®«ä¿é¸¡ä¸ã€
> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â”‚         Promptï¼ˆèœå•ç¿»è¯‘ï¼‰                                     â”‚
> â”‚         æŠŠä½ çš„è¯ã€Œå®«ä¿é¸¡ä¸ã€ç¿»è¯‘æˆåå¨èƒ½æ‡‚çš„æ ¼å¼               â”‚
> â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
>     â†“ ã€Œç‚’é¸¡ä¸ï¼Œæ”¾èŠ±ç”Ÿã€
> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â”‚         Agentï¼ˆä¼ èœå‘˜ï¼‰                                       â”‚
> â”‚         æŠŠå•å­é€åˆ°åå¨ï¼ŒæŠŠèœç«¯åˆ°ä½ æ¡Œä¸Š                       â”‚
> â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
>     â†“ ã€Œ3 å·æ¡Œï¼Œåšå®«ä¿é¸¡ä¸ã€
> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â”‚         Function Callingï¼ˆæ ‡å‡†åŒ–ç‚¹å•ï¼‰                          â”‚
> â”‚         ç”¨ç»Ÿä¸€æ ¼å¼ï¼šã€Œèœå“ï¼šå®«ä¿é¸¡ä¸ï¼Œæ¡Œå·ï¼š3ã€                 â”‚
> â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
>     â†“ ã€Œç»™å¨å¸ˆçœ‹è¿™ä¸ªå•å­ã€
> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â”‚         MCPï¼ˆé¤é¥®è”ç›Ÿæ ‡å‡†ï¼‰                                    â”‚
> â”‚         æ‰€æœ‰åŠ ç›Ÿåº—éƒ½ç”¨ç›¸åŒçš„å·¥ä½œæµç¨‹                             â”‚
> â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
>     â†“ ã€Œèœåšå¥½äº†ï¼ã€
> ä½ 
> ```

| æ¦‚å¿µ | ä½œç”¨å±‚ | æ ¸å¿ƒä½œç”¨ | æ¯”å–» |
|------|--------|----------|------|
| **Prompt** | ç”¨æˆ·â†”AI | å®šä¹‰å¯¹è¯å†…å®¹å’Œäººè®¾ | èœå•å’Œç‚¹é¤ç”¨è¯­ |
| **Agent** | AIâ†”Tool | åè°ƒ AI è°ƒç”¨å·¥å…· | ä¼ èœå‘˜ |
| **Function Calling** | Agentâ†”AI | æ ‡å‡†åŒ–å·¥å…·è°ƒç”¨æè¿° | æ ‡å‡†ç‚¹å•æ ¼å¼ |
| **MCP** | Agentâ†”Tool | æ ‡å‡†åŒ–å·¥å…·æœåŠ¡é€šä¿¡ | é¤é¥®è”ç›Ÿæ ‡å‡† |


# å¦‚ä½•å†™ Agent ä»£ç ï¼ˆä»¥ Python ä¸ºä¾‹ï¼‰

> ğŸ¯ **çƒ¹é¥ªæ¯”å–»**
>
> å†™ Agent ä»£ç å°±åƒå¼€é¤å…ï¼š
> - **å·¥å…·å‡½æ•°** = å‡†å¤‡é£Ÿæå’Œå¨å…·
> - **API Key** = é¤å…è¥ä¸šæ‰§ç…§
> - **Agent å¯¹è±¡** = é›‡ä½£å¨å¸ˆ
> - **è¿è¡Œ** = å¼€é—¨è¥ä¸š

## 1. å‡†å¤‡å·¥ä½œ

### 1.1 å®šä¹‰å·¥å…·å‡½æ•°

å…ˆå†™å¥½ä½ çš„å·¥å…·å‡½æ•°ï¼Œæœ€å¥½å•ç‹¬ç”¨ä¸€ä¸ªæ–‡ä»¶å­˜æ”¾ï¼Œä¾¿äºç®¡ç†å’Œç»´æŠ¤ã€‚

> **æ¯”å–»**ï¼šå°±åƒæŠŠåˆ€ã€é”…ã€ç §æ¿åˆ†é—¨åˆ«ç±»æ”¾å¥½ï¼Œåšé¥­æ—¶æ–¹ä¾¿å–ç”¨ã€‚

```python
# tools.py
def get_weather(city: str) -> str:
    """è·å–æŒ‡å®šåŸå¸‚çš„å¤©æ°”ä¿¡æ¯"""
    # è¿™é‡Œè°ƒç”¨å¤©æ°” API
    return f"{city} çš„å¤©æ°”æ˜¯æ™´å¤©ï¼Œ25â„ƒ"

def search_files(query: str) -> list[str]:
    """æœç´¢æ–‡ä»¶"""
    # è¿™é‡Œå®ç°æ–‡ä»¶æœç´¢é€»è¾‘
    return [f"æ‰¾åˆ°æ–‡ä»¶: {query}"]
```

### 1.2 é…ç½®ç¯å¢ƒå˜é‡

è·å–å¤§è¯­è¨€æ¨¡å‹çš„ API Keyï¼Œä¸è¦ç›´æ¥å†™åœ¨ä»£ç ä¸­ã€‚ä½¿ç”¨ `.env` æ–‡ä»¶å­˜å‚¨æ•æ„Ÿä¿¡æ¯ï¼š

> **æ¯”å–»**ï¼šå°±åƒæŠŠé“¶è¡Œå¯†ç å†™åœ¨çº¸ä¸Šé”è¿›ä¿é™©ç®±ï¼Œä¸è¦å†™åœ¨é—¨å£çš„å…¬å‘Šæ¿ä¸Šã€‚

```bash
# .env
OPENAI_API_KEY=sk-your-api-key-here
```

ç„¶ååœ¨ä»£ç ä¸­åŠ è½½ï¼š

```python
from dotenv import load_dotenv
load_dotenv()  # åŠ è½½ .env æ–‡ä»¶åˆ°ç¯å¢ƒå˜é‡
```

## 2. é…ç½® Agentï¼ˆä½¿ç”¨ Pydantic AIï¼‰

> **æ¯”å–»**ï¼šå°±åƒé›‡ä½£å¨å¸ˆâ€”â€”å‘Šè¯‰ä»–ç”¨ä»€ä¹ˆè®¾å¤‡ï¼ˆæ¨¡å‹ï¼‰ã€ä»€ä¹ˆé£æ ¼ï¼ˆç³»ç»Ÿæç¤ºè¯ï¼‰ã€ä¼šå“ªäº›èœè°±ï¼ˆå·¥å…·ï¼‰ã€‚

```python
from pydantic_ai import Agent, RunContext
from tools import get_weather, search_files

# åˆ›å»º Agent å¯¹è±¡
agent = Agent(
    model='openai:gpt-4o',              # æŒ‡å®šæ¨¡å‹
    system_prompt='ä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„åŠ©æ‰‹',    # ç³»ç»Ÿæç¤ºè¯ï¼ˆå¯é€‰ï¼‰
    deps_type=dict,                      # ä¾èµ–ç±»å‹ï¼ˆå¯é€‰ï¼‰
)

# æ³¨å†Œå·¥å…·å‡½æ•°
@agent.tool
def weather_tool(ctx: RunContext[dict], city: str) -> str:
    """è·å–åŸå¸‚å¤©æ°”ä¿¡æ¯"""
    return get_weather(city)

@agent.tool
def file_search_tool(ctx: RunContext[dict], query: str) -> list[str]:
    """æœç´¢æœ¬åœ°æ–‡ä»¶"""
    return search_files(query)
```

## 3. è¿è¡Œ Agent

```python
# ä¸»ç¨‹åº
def main():
    # è·å–ç”¨æˆ·è¾“å…¥
    user_input = input("è¯·è¾“å…¥ä½ çš„é—®é¢˜: ")

    # è¿è¡Œ Agentï¼ˆåŒæ­¥æ–¹å¼ï¼‰
    result = agent.run_sync(user_input)

    # è¾“å‡ºç»“æœ
    print(result.data)

    # æŸ¥çœ‹å·¥å…·è°ƒç”¨å†å²
    if result.tool_calls:
        print("è°ƒç”¨çš„å·¥å…·:", result.tool_calls)
```

> **æ¯”å–»**ï¼šå°±åƒé¡¾å®¢è¿›åº—ç‚¹é¤ï¼ŒæœåŠ¡å‘˜æŠŠå•å­é€åˆ°åå¨ï¼Œåå¨åšå¥½ç«¯å‡ºæ¥ã€‚

## 4. ä¿æŒå¯¹è¯ä¸Šä¸‹æ–‡

> **æ¯”å–»**ï¼šå°±åƒå’Œæœ‹å‹èŠå¤©â€”â€”
> - ç¬¬ä¸€æ¬¡è§é¢ï¼šã€Œä½ å¥½ï¼Œæˆ‘æ˜¯å°ç‹ã€
> - ç¬¬äºŒæ¬¡è§é¢ï¼šè¿˜è®°å¾—ä¸Šæ¬¡è¯´çš„ï¼Œç»§ç»­èŠ
> - è®°å¿† = æ¶ˆæ¯å†å²

å¦‚æœå¸Œæœ› AI è®°ä½ä¹‹å‰çš„å¯¹è¯å†…å®¹ï¼Œéœ€è¦ä¿å­˜æ¶ˆæ¯å†å²ï¼š

```python
# ä¿å­˜æ‰€æœ‰æ¶ˆæ¯å†å²
message_history = []

def chat_loop():
    while True:
        user_input = input("\nä½ : ")
        if user_input.lower() in ['exit', 'quit']:
            break

        # å°†ä¹‹å‰çš„æ¶ˆæ¯å†å²ä½œä¸ºå‚æ•°ä¼ å…¥
        result = agent.run_sync(
            user_input,
            message_history=message_history  # ä¼ é€’å†å²æ¶ˆæ¯
        )

        print(f"\nAI: {result.data}")

        # æ›´æ–°æ¶ˆæ¯å†å²
        message_history.extend(result.all_messages())
```

## å®Œæ•´ç¤ºä¾‹

```python
# main.py
import os
from dotenv import load_dotenv
from pydantic_ai import Agent, RunContext

# åŠ è½½ç¯å¢ƒå˜é‡
load_dotenv()

# åˆ›å»º Agent
agent = Agent(
    'openai:gpt-4o',
    system_prompt='ä½ æ˜¯ä¸€ä¸ªæœ‰å¸®åŠ©çš„ AI åŠ©æ‰‹'
)

# æ³¨å†Œå·¥å…·
@agent.tool
def calculator(ctx: RunContext[dict], expression: str) -> str:
    """è®¡ç®—æ•°å­¦è¡¨è¾¾å¼"""
    try:
        result = eval(expression)
        return f"è®¡ç®—ç»“æœ: {result}"
    except Exception as e:
        return f"è®¡ç®—é”™è¯¯: {e}"

# è¿è¡Œ
if __name__ == '__main__':
    while True:
        user_input = input("\nä½ : ")
        if user_input == 'exit':
            break

        result = agent.run_sync(user_input)
        print(f"\nAI: {result.data}")
```)

