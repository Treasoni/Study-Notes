---
tags: [ai, 基础概念, prompt]
---

# Prompt 提示词

> [!info] 概述
> **Prompt 是给 AI 的"任务说明书"** - 告诉 AI 你想做什么、怎么做、输出什么格式。就像给新员工的工作任务书，越清晰，结果越好。

## 核心概念

### 什么是 Prompt

**定义**：给 AI 模型的输入指令，定义对话内容、角色定位、行为准则和输出要求

**为什么需要**：
- AI 本身没有"意图"，Prompt 是传递意图的载体
- 好的 Prompt 能显著提升输出质量
- 是整个 AI 系统的**入口层**

### System Prompt vs User Prompt

| 类型 | 作用 | 加载时机 | 比喻 |
|------|------|----------|------|
| **System Prompt** | 定义角色、人设、行为准则、能力边界 | 会话开始时加载，持久有效 | 演员的角色卡 |
| **User Prompt** | 用户的实际输入，具体任务指令 | 每次对话动态输入 | 观众的问题 |

**System Prompt 示例**：
```
你是一个专业的代码审查专家。
- 审查时关注：代码规范、潜在bug、安全漏洞、性能问题
- 输出格式：Critical / Warning / Suggestion 三个级别
- 语言：使用中文回复
```

**User Prompt 示例**：
```
帮我审查 src/auth/login.ts 文件，重点关注安全漏洞
```

### 核心特点

| 特点 | 说明 |
|------|------|
| **意图传递** | 将人类意图转化为 AI 可理解的指令 |
| **约束定义** | 限定输出格式、语言风格、能力边界 |
| **上下文构建** | 提供背景信息、示例、参考资料 |
| **动态调整** | 可根据反馈迭代优化 |

---

## 技术细节

### Prompt Engineering 进阶技术

#### 1. Chain of Thought (CoT) - 思维链

让 AI "一步一步思考"，提升复杂推理任务的准确率。

```
请分析这段代码的性能问题。
要求：先列出所有可能的问题点，然后逐一分析原因，最后给出优化建议。
让我们一步步来思考...
```

#### 2. Few-shot Learning - 少样本学习

通过提供示例，让 AI 理解你想要的输出格式。

```
将以下句子转换为 JSON 格式：

示例：
输入：张三，28岁，北京
输出：{"name": "张三", "age": 28, "city": "北京"}

现在处理：
输入：李四，35岁，上海
```

#### 3. Role Prompting - 角色扮演

赋予 AI 特定身份，获得更专业的输出。

```
你是一位有10年经验的资深架构师，擅长微服务设计。
请从架构角度分析这个系统的优缺点...
```

#### 4. Structured Output - 结构化输出

明确要求输出格式，便于程序处理。

```
请以以下 JSON 格式输出分析结果：
{
  "summary": "一句话总结",
  "issues": ["问题1", "问题2"],
  "suggestions": ["建议1", "建议2"],
  "priority": "high/medium/low"
}
```

### 2025-2026 趋势

#### 从 Prompt Engineering 到 Context Engineering

传统 Prompt Engineering 关注"怎么说"，Context Engineering 关注"给什么信息"。

| 维度 | Prompt Engineering | Context Engineering |
|------|-------------------|---------------------|
| 焦点 | 指令措辞优化 | 上下文信息组织 |
| 方法 | 调整提示词结构 | 动态检索、RAG、长期记忆 |
| 目标 | 提升单次对话质量 | 构建可持续进化的知识体系 |

#### 多模态提示

2025年，Prompt 不再只是文字，还包含：
- **图像**：截图分析、UI设计评审
- **音频**：语音指令、会议转录
- **视频**：内容分析、场景理解
- **代码**：直接粘贴代码让 AI 理解

#### PEOps (Prompt Engineering Operations)

企业级 Prompt 管理实践：
- **版本控制**：Prompt 的 Git 管理
- **A/B 测试**：对比不同 Prompt 效果
- **监控评估**：追踪 Prompt 性能指标
- **CI/CD 集成**：Prompt 变更的自动化测试

---

## 与其他概念的关系

```
┌─────────────────────────────────────────────────┐
│                   Prompt                         │
│              (入口层：定义意图)                    │
└─────────────────────┬───────────────────────────┘
                      │
          ┌───────────┼───────────┐
          ↓           ↓           ↓
    ┌─────────┐ ┌─────────┐ ┌─────────┐
    │  Agent  │ │  MCP    │ │ Skills  │
    │ (执行)  │ │ (工具)  │ │ (知识)  │
    └─────────┘ └─────────┘ └─────────┘
```

| 概念 | 与 Prompt 的关系 |
|------|------------------|
| [[Agent智能体]] | Prompt 定义 Agent 的角色和任务目标 |
| [[MCP协议]] | Prompt 中可以指定使用哪些 MCP 工具 |
| [[Skills是什么]] | Skills 本质是高质量的 Prompt 模块 |
| [[SubAgent子代理]] | SubAgent 接收派发的 Prompt 任务 |

---

## 最佳实践

### Prompt 编写原则

1. **清晰具体**：避免模糊表述，明确说明要做什么
2. **提供上下文**：给足够的背景信息和示例
3. **定义输出格式**：明确期望的输出结构
4. **设置约束条件**：说明什么不能做
5. **迭代优化**：根据结果持续改进

### 常见 Prompt 模板

#### 代码审查模板
```
角色：资深代码审查专家
任务：审查以下代码
关注点：[安全性/性能/可读性/规范]
输出格式：
- Critical: 必须修复的问题
- Warning: 建议改进的地方
- Suggestion: 可选的优化建议

代码：
```

#### 文档生成模板
```
请为以下代码生成文档：
- 语言风格：[中文/英文]
- 详细程度：[简要/详细]
- 包含：[参数说明/返回值/示例/注意事项]

代码：
```

### 常见陷阱

| 陷阱 | 问题 | 改进 |
|------|------|------|
| **过于简短** | "帮我写个函数" | 说明函数用途、参数、返回值 |
| **模糊表述** | "优化这段代码" | 明确优化目标（性能/可读性） |
| **缺少示例** | AI 理解偏差 | 提供 1-2 个期望输出示例 |
| **过度复杂** | 一个 Prompt 多个任务 | 拆分为多个步骤 |

---

## 常见问题

### Q1: System Prompt 和 User Prompt 哪个更重要？

两者配合使用效果最佳：
- **System Prompt**：设定长期有效的角色和规则
- **User Prompt**：传递具体任务和即时需求

### Q2: Prompt 越长越好吗？

不是。关键是**信息密度**和**结构清晰**。过长的 Prompt 可能：
- 稀释关键信息
- 增加 token 成本
- 导致 AI 注意力分散

### Q3: 如何评估 Prompt 质量？

评估维度：
1. **准确性**：输出是否符合预期
2. **一致性**：多次调用结果是否稳定
3. **鲁棒性**：输入变化时是否仍能正常工作
4. **效率**：token 消耗是否合理

### Q4: Prompt 可以复用吗？

可以，这正是 **Skills** 的核心价值。将高质量的 Prompt 封装成 Skill，实现：
- 一键调用
- 团队共享
- 版本管理

---

## 相关文档

- [[01-基础概念/人工智能重要的六大概念体系]] - 六大概念总览
- [[01-基础概念/Skills是什么]] - Prompt 的高级封装形式
- [[03-进阶应用/如何编写Skills]] - 将 Prompt 封装为 Skill

---

## 参考资料

- [OpenAI Prompt Engineering Guide](https://platform.openai.com/docs/guides/prompt-engineering)
- [Anthropic Prompt Engineering](https://docs.anthropic.com/claude/docs/prompt-engineering)
- [Learn Prompting](https://learnprompting.org/)
- [Prompt Engineering Guide (dair-ai)](https://github.com/dair-ai/Prompt-Engineering-Guide)
