# Skills（技能）

## 1. 什么是 Skills？

**Skills（技能）** 是一种预定义的可重用任务或工作流，它可以让 AI 快速执行特定的操作。

可以把 Skills 理解为「预编程的 AI 能力」——就像人类可以学习不同技能（开车、编程、做饭）一样，AI 也可以通过学习 Skills 来获得特定的执行能力。

## 2. Skills 与相关概念的区别

| 概念 | 定义 | 使用方式 | 例子 |
|------|------|----------|------|
| **Prompt** | 给 AI 的输入指令 | 每次对话时输入 | "帮我写一段 Python 代码" |
| **Agent** | 能调用工具的智能体 | 通过框架代码实现 | 能查询天气的 AI 助手 |
| **MCP Server** | 提供工具的服务端 | 通过 MCP 协议连接 | 文件系统工具服务 |
| **Skills** | 预定义的完整任务 | 通过命令触发 | `/commit` 自动提交代码 |

## 3. Skills 的特点

### 3.1 命令式调用
Skills 通常通过斜杠命令触发，例如：
- `/commit` - 创建 git 提交
- `/review-pr` - 审查 Pull Request
- `/help` - 显示帮助信息

### 3.2 预定义行为
每个 Skill 都有预设的完整执行流程，AI 不需要每次重新思考如何完成任务。

### 3.3 可组合性
Skills 可以互相调用或与普通 Prompt 混合使用。

### 3.4 可配置参数
Skills 可以接受参数来定制行为，例如 `/commit -m "修复登录bug"`。

## 4. Skills 的工作原理

```
┌─────────────────────────────────────────────────────────────────┐
│  用户触发 Skill（如 /commit）                                    │
│       ↓                                                          │
│  Skill 解析器识别命令                                            │
│       ↓                                                          │
│  加载对应的 Skill 定义（预配置的 prompt + 工作流程）             │
│       ↓                                                          │
│  将 Skill 定义发送给 AI                                          │
│       ↓                                                          │
│  AI 执行预设的工作流程（可能调用 Agent、Tools、MCP 等）          │
│       ↓                                                          │
│  返回执行结果给用户                                              │
└─────────────────────────────────────────────────────────────────┘
```

## 5. Skills 的应用场景

### 5.1 开发效率类

| Skill | 功能 |
|-------|------|
| `/commit` | 自动创建 git commit，分析变更并生成提交信息 |
| `/review-pr` | 审查 Pull Request，检查代码质量 |
| `/test` | 运行测试并分析结果 |
| `/build` | 执行构建流程 |

### 5.2 内容处理类

| Skill | 功能 |
|-------|------|
| `/summarize` | 总结长文本内容 |
| `/translate` | 翻译文本 |
| `/format` | 格式化代码或文档 |

### 5.3 信息查询类

| Skill | 功能 |
|-------|------|
| `/search` | 搜索文档或代码 |
| `/explain` | 解释代码或概念 |

## 6. Skills vs MCP

| 维度 | Skills | MCP |
|------|--------|-----|
| **层级** | 用户交互层 | 工具服务层 |
| **触发方式** | 命令式（/command） | 由 Agent 调用 |
| **粒度** | 完整任务/工作流 | 单一工具功能 |
| **可发现性** | 列表可见，有文档 | 需要查询工具列表 |
| **典型用途** | 常用操作的快捷方式 | 提供可调用的函数 |

## 7. Skills 的优势

1. **快速执行** - 无需每次重新描述任务，直接触发预定义流程
2. **一致性** - 相同操作总是以相同方式执行
3. **可发现** - 用户可以查看所有可用 Skills 及其文档
4. **低门槛** - 用户只需记住命令，无需了解内部实现
5. **可组合** - Skills 可以调用其他 Skills、Agent 或 MCP 工具

## 8. 如何创建自定义 Skill

### 8.1 基本结构

一个 Skill 通常包含以下部分：

```yaml
# skill.yaml
name: my-skill
description: 这是我自定义的技能
parameters:
  - name: input
    type: string
    required: true
prompt: |
  请帮我处理以下内容：{{input}}
  要求：
  1. 格式化输出
  2. 检查语法错误
```

### 8.2 实现方式（以 Claude Code 为例）

Claude Code 支持 User Skills，用户可以定义自己的技能：

**步骤：**
1. 在配置目录创建 `.claude/skills/` 文件夹
2. 创建 `.yaml` 或 `.py` 文件定义 Skill
3. 使用时通过 `/skill-name` 触发

**示例（Python Skill）：**

```python
# .claude/skills/analyze.py

def execute(context, args):
    """
    分析当前代码库结构

    Args:
        context: 运行上下文（包含文件系统、代码信息等）
        args: 用户传入的参数
    """
    files = context.get_files("**/*.py")
    analysis = []

    for file in files:
        analysis.append({
            "path": file.path,
            "lines": len(file.lines),
            "functions": extract_functions(file.content)
        })

    return format_analysis(analysis)
```

## 9. 完整示例对比

### 传统方式 vs Skill 方式

**任务：创建 git 提交**

**传统方式：**
```
用户: 帮我创建一个 git 提交，包括我修改的所有文件，
     分析这些修改内容，生成一个合适的提交消息，
     不要提交 .env 文件
AI: （每次都要重新理解这些要求）
```

**Skill 方式：**
```
用户: /commit
AI: （自动执行预定义的完整提交流程）
```

## 10. 总结

Skills 是连接用户和 AI 能力的桥梁：

```
用户需求
    ↓
┌─────────────────────────────────────────────┐
│  Skills Layer (预定义的任务工作流)           │
│  - /commit, /test, /build 等                │
└─────────────────────────────────────────────┘
    ↓
┌─────────────────────────────────────────────┐
│  Agent Layer (协调 AI 和工具)                │
└─────────────────────────────────────────────┘
    ↓
┌─────────────────────────────────────────────┐
│  MCP Layer (提供标准化工具服务)              │
│  - Filesystem, Git, GitHub, Weather 等      │
└─────────────────────────────────────────────┘
    ↓
┌─────────────────────────────────────────────┐
│  AI Model (大语言模型)                       │
└─────────────────────────────────────────────┘
```

**核心价值：**
- **对用户**：简化常用操作，提高效率
- **对开发者**：封装最佳实践，保证一致性
- **对 AI**：减少理解成本，专注执行
